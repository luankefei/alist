System.register(["./index-legacy.3e487d44.js","./index-legacy.b291285f.js","./Common-legacy.4fb11575.js","./useTitle-legacy.b11995ec.js","./index-legacy.e1a1cc1b.js","./index-legacy.b9846f47.js","./SettingItem-legacy.e74f4b1f.js","./item_type-legacy.4bd28ded.js","./ResponsiveGrid-legacy.76be847e.js"],(function(e,t){"use strict";var r,n,a,i,o,s,l,d,c,u,g,h,f,m,p,v,k,b,y,x,C,w,$,_,j,S,I,N,z,M,B,T,q,G,L;return{setters:[e=>{r=e.cl,n=e.ab,a=e.a,i=e.e,o=e.aP,s=e.b2,l=e.o,d=e.dj,c=e.dk,u=e.aC,g=e.i,h=e.bI,f=e.S,m=e.a7,p=e.K,v=e.aq,k=e.X,b=e.a_,y=e.t,x=e.ce,C=e.cN,w=e.B,$=e.r,_=e.M,j=e.j,S=e.b6,I=e.k,N=e.m,z=e.T,M=e.I,B=e.q,T=e.b3,q=e.aR},e=>{G=e.G},e=>{L=e.default},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{}],execute:function(){var t=n('<svg width=1em height=1em viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-width=2><path stroke-dasharray=60 stroke-dashoffset=60 stroke-opacity=.3 d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill=freeze attributeName=stroke-dashoffset dur=1.3s values=60;0></animate></path><path stroke-dasharray=15 stroke-dashoffset=15 d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill=freeze attributeName=stroke-dashoffset dur=0.3s values=15;0></animate><animateTransform attributeName=transform dur=1.5s repeatCount=indefinite type=rotate values="0 12 12;360 12 12">'),O=n('<svg width=1em height=1em viewBox="0 0 24 24"><g stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path fill=currentColor fill-opacity=0 stroke-dasharray=60 stroke-dashoffset=60 d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"><animate fill=freeze attributeName=stroke-dashoffset dur=0.5s values=60;0></animate><animate fill=freeze attributeName=fill-opacity begin=0.8s dur=0.15s values=0;0.3></animate></path><path fill=none stroke-dasharray=14 stroke-dashoffset=14 d="M8 12L11 15L16 10"><animate fill=freeze attributeName=stroke-dashoffset begin=0.6s dur=0.2s values=14;0>');function R(e){return n=t(),r(n,e,!0,!0),n;var n}function X(e){return t=O(),r(t,e,!0,!0),t;var t}e("default",(()=>{const e=a(),[t,r]=i(),[n,O]=o((()=>s.get("/admin/index/progress"))),Z=async()=>{const e=await O();T(e,(e=>{r(e)}))},D=setInterval(Z,5e3);l((()=>clearInterval(D))),Z();const[E,K]=o(d),P=async()=>{const e=await K();q(e),Z()},[A,F]=o((()=>s.post("/admin/index/clear"))),H=async()=>{const e=await F();q(e),Z()},[J,Q]=o((()=>s.post("/admin/index/stop"))),U=async()=>{const e=await Q();q(e),Z()};let V,W;const[Y,ee]=o(c),te=async()=>{let e=[];V.value&&(e=V.value.split("\n"));let t=20;W.value&&(t=parseInt(W.value));const r=await ee(e,t);q(r),Z()},{isOpen:re,onOpen:ne,onClose:ae}=u();return g(k,{spacing:"$2",w:"$full",alignItems:"start",get children(){return[g(h,{get children(){return e("manage.sidemenu.settings")}}),g(L,{get group(){return G.INDEX}}),g(h,{get children(){return e("indexes.current")}}),g(f,{get when(){return t()},get children(){return g(m,{spacing:"$2",w:"fit-content",shadow:"$md",rounded:"$lg",get bg(){return p("","$neutral3")()},get children(){return[g(v,{boxSize:"$28",color:"$accent9",p:"$2",get as(){var e;return null!==(e=t())&&void 0!==e&&e.is_done?X:R}}),g(k,{spacing:"$2",flex:"1",alignItems:"start",mr:"$2",get children(){return[g(b,{get children(){return[y((()=>e("indexes.obj_count"))),":",g(x,{colorScheme:"info",ml:"$2",get children(){var e;return null===(e=t())||void 0===e?void 0:e.obj_count}})]}}),g(b,{get children(){return[y((()=>e("indexes.last_done_time"))),":",g(x,{colorScheme:"accent",ml:"$2",get children(){return y((()=>!!t().last_done_time))()?C(t().last_done_time):e("indexes.unknown")}})]}}),g(f,{get when(){var e;return null===(e=t())||void 0===e?void 0:e.error},get children(){return g(b,{css:{wordBreak:"break-all"},get children(){return[y((()=>e("indexes.error"))),":",g(x,{colorScheme:"danger",ml:"$2",get children(){return t().error}})]}})}})]}})]}})}}),g(m,{spacing:"$2",get children(){return[g(w,{colorScheme:"accent",onClick:[Z,void 0],get loading(){return n()},get children(){return e("global.refresh")}}),g(w,{colorScheme:"danger",onClick:[H,void 0],get loading(){return A()},get children(){return e("indexes.clear")}}),g(w,{colorScheme:"warning",onClick:[U,void 0],get loading(){return J()},get children(){return e("indexes.stop")}}),g(w,{onClick:[P,void 0],get loading(){return E()},get children(){var r;return e("indexes."+(null!==(r=t())&&void 0!==r&&r.is_done?"rebuild":"build"))}})]}}),g(w,{onClick:ne,get children(){return e("indexes.update")}}),g($,{get opened(){return re()},onClose:ae,get children(){return[g(_,{}),g(j,{get children(){return[g(S,{}),g(I,{get children(){return e("indexes.update")}}),g(N,{get children(){return[g(h,{get children(){return e("indexes.paths_to_update")}}),g(z,{ref(e){"function"==typeof V?V(e):V=e}}),g(h,{get children(){return e("indexes.max_depth")}}),g(M,{value:20,type:"number",ref(e){"function"==typeof W?W(e):W=e}})]}}),g(B,{get children(){return g(w,{onClick:[te,void 0],get loading(){return Y()},get children(){return e("indexes.update")}})}})]}})]}})]}})}))}}}));
